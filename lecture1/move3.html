<html>
<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>動的DIV生成</title>
    <style>
        div.mmm{
            position: absolute;
            background-color:darkgreen;
            color:white;
            width: fit-content;
            text-align: center;
        }
        div.bg{
            background-color:darkolivegreen;
            width:800px;
            height:800px;
        }
    </style>
</head>

<body>
    <div id="parent" class="bg"></div>
    <script>
        function create(){
            var x = Math.floor(Math.random() * 800);
            var y = Math.floor(Math.random() * 800);
            var t = Math.floor(Math.random() * 100);
            var m = new mmm(x,y,'●',t);
        }
        function mmm(x,y,val,t) {
            var elem = document.createElement('div');
            elem.className = 'mmm';
            elem.innerHTML = val;
            elem.style.left = x + 'px';
            elem.style.top = y + 'px';
            elem.px = x;
            elem.direction = 1;
            document.getElementById('parent').appendChild(elem);
            setInterval(() => {
                if(elem.direction == -1){
                    if(elem.px <= 0){
                        elem.direction *= -1;
                    }
                }else{
                    if(elem.px >= 800){
                        elem.direction *= -1;
                    }
                }
                elem.px += elem.direction * 10;
                elem.style.left = elem.px + 'px';
            }, t);
        }
    </script>
    
    <input type="button" onclick="create()" value="生成"><br>

</body>

</html>