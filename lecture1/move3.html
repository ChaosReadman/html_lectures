<html>
<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>動的DIV生成</title>
    <style>
        div.mmm {
            position: absolute;
            background-color: darkgreen;
            color: white;
            width: fit-content;
            text-align: center;
        }

        div.bg {
            background-color: darkolivegreen;
            width: 800px;
            height: 800px;
        }
    </style>
</head>

<body>
    <div id="parent" class="bg"></div>
    <script>
        function create() {
            var x = Math.floor(Math.random() * 800);
            var y = Math.floor(Math.random() * 800);
            var dx = 5 + Math.floor(Math.random() * 30);
            var m = new mmm(x, y, '●', dx);
        }
        function mmm(x, y, val, dx) {
            var elem = document.createElement('div');
            elem.className = 'mmm';
            elem.innerHTML = val;
            elem.style.left = x + 'px';
            elem.style.top = y + 'px';
            elem.px = x;
            elem.xDir = 1;
            document.getElementById('parent').appendChild(elem);
            setInterval(() => {
                if ((elem.xDir == -1 && elem.px <= 0) ||
                    (elem.xDir == 1 && elem.px >= 800)) {
                    elem.xDir *= -1;
                }
                elem.px += elem.xDir * dx;
                elem.style.left = elem.px + 'px';
            }, 10);
        }
    </script>

    <input type="button" onclick="create()" value="生成"><br>

</body>

</html>